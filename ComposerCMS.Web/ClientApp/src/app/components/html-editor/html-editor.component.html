<div class="card">
    <div class="card-header">
        <div class="row" [ngClass]="{'mb-3': queuedHTMLNode !== undefined}">
            <div class="col">
                <div [hidden]="!isTextView">
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.p)">
                        <strong>p</strong>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.strong)">
                        <strong>b</strong>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.em)">
                        <em>i</em>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.a)">link</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.blockquote)">b-quote</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.del)">
                        <del>del</del>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.ins)">ins</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="toggleQueuedHTMLNode(HTML_NODE.img)">img</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.ul)">ul</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.ol)">ol</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.li)">li</button>
                    <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.code)">code</button>
                    <button type="button" class="btn btn-default btn-sm" title="Close tags" (click)="closeTags()">&lt;/&gt;</button>
                </div>
                <div [hidden]="isTextView">
                    <div class="form-inline">
                        <select class="form-control form-control-sm mr-2">
                            <option>Paragraph</option>
                            <option>Heading 1</option>
                            <option>Heading 2</option>
                            <option>Heading 3</option>
                            <option>Heading 4</option>
                            <option>Heading 5</option>
                            <option>Heading 6</option>
                            <option>Preformatted</option>
                        </select>

                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-bold"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-italic"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-list-ul"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-list-ol"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-quote-left"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-align-left"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-align-center"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-align-right"></i>
                        </button>
                        <button class="btn btn-default btn-sm mr-2">
                            <i class="fa fa-link"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-1">
                <div class="float-right">
                    <button type="button" class="btn btn-default btn-sm" [hidden]="!isTextView" (click)="toggleContentView()">Visual</button>
                    <button type="button" class="btn btn-default btn-sm" [hidden]="isTextView" (click)="toggleContentView()">Text</button>
                </div>
            </div>
        </div>

        <div class="form-inline" *ngIf="queuedHTMLNode === HTML_NODE.img">
            <input type="text" class="form-control form-control-sm mr-2" [(ngModel)]="imgSrcAttr.value" placeholder="http://url">
            <input type="text" class="form-control form-control-sm mr-2" [(ngModel)]="imgAltAttr.value" placeholder="Description">
            <button type="button" class="btn btn-danger btn-sm mr-2" (click)="toggleQueuedHTMLNode()">CANCEL</button>
            <button type="button" class="btn btn-default btn-sm" (click)="appendTag(HTML_NODE.img, imgSrcAttr, imgAltAttr)">OK</button>
        </div>
    </div>

    <div class="card-body">
        <textarea [hidden]="!isTextView" #contentElement class="form-control" rows="10" [(ngModel)]="content" spellcheck="false"></textarea>
    </div>

    <div class="card-body" [hidden]="isTextView">
        <html #visualContentHTML lang="en">

        <head>
            <meta charset="utf-8">
            <title>CMS Sure - Page Preview</title>

            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
                crossorigin="anonymous">

            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
                crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
                crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
                crossorigin="anonymous"></script>
        </head>

        <body #visualContent [innerHtml]="content" contenteditable="true" (click)="test($event)"></body>

        </html>
    </div>
</div>
