<div *ngIf="settings">
  <div class="card bg-light mb-4">
    <div class="card-body">
      <button class="btn btn-dark" (click)="save()">Save Changes</button>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 col-lg-8">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">General Settings</h5>

          <div class="form-group">
            <label for="Title">Title</label>
            <input type="text" class="form-control" name="Title" [(ngModel)]="settings.title" />
          </div>

          <div class="form-group">
            <label for="DefaultPage">Default Route</label>
            <select name="DefaultPage" class="form-control" [(ngModel)]="settings.defaultRouteID">
              <option *ngFor="let route of routes" [ngValue]="route.id">{{route.originalEntityText}}</option>
            </select>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="minimizeJs" [(ngModel)]="settings.minimizeJs" />
            <label class="form-check-label" for="minimizeJs">
              Minimize Scripts
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="minimizeCss" [(ngModel)]="settings.minimizeCss" />
            <label class="form-check-label" for="minimizeCss">
              Minimize CSS
            </label>
          </div>
        </div>
      </div>

      <div class="card fill-danger">
        <div class="card-body">
          <h5 class="card-title">Dangerous Actions</h5>

          <p class="card-text">
            This section contains dangerous settings. Meaning these can break/negatively affect your
            installation. Please make sure you know what you're doing.
          </p>

          <div class="form-group">
            <label class="mb-0">Sync File System</label>
            <small class="form-text text-muted mb-2">
              Sync the system pages from the file system into the database.
            </small>
            <button type="button" class="btn btn-success" (click)="syncFileSystem()">Sync File System</button>
          </div>

          <div class="form-group">
            <label class="mb-0">Reinitialize Database</label><br />
            <small class="form-text text-muted mb-2">
              Completely deletes and restores the database back to the default installation. <strong>ALL</strong> of you data will lost.
            </small>
            <button type="button" class="btn btn-danger" (click)="purgeSystem()">Reinitialize</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
